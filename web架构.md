#### WEB工作原理

用户通过浏览器访问web服务器过程

#### 常见WEB容器

apache、IIS、nginx

#### 中间件服务器

利用flash、php、java、asp等，在网页上嵌入脚本，与服务端进行对话，产生交互功能。功能性脚本形成工具包，单独管理，web开发时，直接调用即可，这就是中间件服务器。实际上是web服务器处理能力的扩展

#### 数据库

静态网页和脚本都是事先设计好的，一般不会改动。数据与程序分离，网站上的动态数据存储在专业的数据库中，随时更新。

当用户请求页面时，脚本根据用户请求的页面，涉及到动态数据的地方，利用SQL数据库语言，从数据库中读取最新的数据，生成”完整“页面，最后发送给用户。

#### HTTP协议

HyperText Transfer Protocol，超文本传输协议，浏览器与WEB服务器之间的通信协议，是传递消息的规范和要求。

当前版本1.1，应用层协议，要经过解封装和三次握手、四次挥手。使用TCP连接，默认80端口。

支持浏览器/服务器模式，BS（browser，server），将html文档从web服务器传输到web浏览器，是一个请求和响应的协议，客户端发出请求，服务端对请求给出回应。

简单快速，浏览器向服务器提出请求时，只需要传送请求方法和请求路径。

以数据流的方式，可以传输任意类型的数据对象：.html-纯文本，.jgp-图片，.mp3-音频。

#### URL

Uniform Resource Locator，统一资源定位符，即网址，全球唯一

https://zhuanlan.zhihu.com/p/71374158

url格式：schema://login:password@address:port/path/to/resource/?query_string#fragment，模式://用户名：密码@地址:端口/具体路径/查询参数/锚点定位

url是为了开放访问，除特殊的如FTP访问需要在账号密码外，其他一般在访问时不用输入账号密码，默认使用了一个匿名账号，例如apache的是www-data

#### URL编码

URL中path允许直接出现A-Za-z0-9，半角减号（-），下划线句点（.），波浪号（~），其他字符会被百分号编码，最好不要用中文

例如：# --> %23；空格 --> %20，通常情况下进行编程时会用+号代替空格，URL原理是ASCII对照表，十六进制



#### 报文分析工具

1. 浏览器F12
2. wireshark
3. fiddler
4. burp suite

#### HTTP报文分析

web应用的所有通信消息都要遵守HTTP协议的规范和要求

HTTP请求由请求行、请求头、请求正文，三个部分组成

1. 请求行：方法、资源路径、协议&版本，例如：GET /showdoc/web/ HTTP/1.1

   方法：GET

   资源路径：/showdoc/web/

   协议&版本：HTTP/1.1

2. 请求头：从请求报文第二行开始到第一个空行为止之间的内容，包含很多字段

3. 请求正文：get方式没有请求正文，只有post方式有请求正文

##### HTTP请求方法

GET，最常用方法，通常用于请求服务器发送的某个资源

POST，可以向服务器提交参数以及表单，包括文件流等

HEAD，与get方法类似，但是在服务器响应中只返回首部

PUT，向服务器写入文档

TRACE，回显浏览器的请求

OPTIONS，请求web服务器告知其支持的各种功能

DELETE，请求服务器删除请求URL所指定的资源

#### 		利用telnet功能模拟浏览器发送http请求

​		GET  /showdoc/web/ HTTP/1.1

​		HOST:192.168.7.97

#### 	请求头中的主要字段

HOST，主要用于指定被请求资源的Internet主机和端口号

user-agent，浏览器指纹

referer，包含一个URL，代表当前URL的上一个URL

cookie，记录请求者的身份认证信息

Accept-charset，用于指定客户端接收的字符集

Accept-Type，用于向接收方指示实体的介质类型，数据类型

Conten-Length，用于指明实体正文的长度，以字节方式存储的十进制数字来表示

last-modified，用于指示资源的最后修改时间和日期
