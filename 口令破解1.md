#### 口令安全概述

很多地方都以用户名（账号）和口令（密码）作为鉴权的方式，口令（密码）就意味着访问权限。口令（密码）就相当于进入家门的钥匙，钥匙丢失，后果可知。

##### 口令安全现状

1. 弱口令
2. 默认口令，应用的默认口令
3. 明文传输，比如HTTP、FTP、TELNET等服务，在网络中传输的数据流都是明文的，包括口令认证信息，这样的服务有被嗅探的风险

##### 破解方式

1. 在线破解方式，账号密码，需要认证，hydra九头蛇工具
2. 离线破解方式，密文还原成明文

##### 暴力破解，极度耗费时间和计算成本，不推荐

利用所有可能得到的字符组密码，去尝试破解。这是最原始，粗暴的破解方法，根据运算能力，如果能够承受的起时间成本的话，最终一定会爆破出密码。

| 字符集      | 密码位数 | 密码空间           |
| ----------- | -------- | ------------------ |
| [0-9]       | 8位      | 10^8=100000000     |
| [0-9]&[a-z] | 8位      | 36^8=2821109907456 |
| [0-9]&[a-z] | 1-8位    | 非常大……           |

crunch，kali密码字典生成工具，生成字典命令：crunch 1 8 abcdefghijklmnopqrstuvwxyz01234567789

##### 字典破解

通过比较合理的条件，筛选或者过滤掉一些全字符组合的内容，就会大幅降低爆破成本。我们把筛选出的密码组合成特定的字典。用字典爆破密码也是可以的，但是这样做有可能会漏掉真正的密码。密码字典分为几类

1. 弱口令字典，如：123456，admin，root，等这样的默认口令或者弱口令

2. 社工字典

   人们在设置密码时，为了方便记忆，密码的内容和组合会与个人信息相关，常见的就是名字+生日

   社工字典更具有针对性，准确率较高

   可以根据个人信息生成密码字典，可以使用cupp工具，【zhangsan|ajest|19920301|dnsec|123】

   cupp是外国人开发的，不符合中国人设置的习惯

##### crunch的使用，生成字典，格式，用法等

##### 字典介绍，要收集哪些常用字典

1. 子域名字典
2. 默认账号密码字典
3. 文件路径字典：日志文件，web目录
4. 常用变量名字典
5. 常用文件名字典
6. 弱口令字典

##### windows口令破解，hydra九头蛇工具的使用

-l，指定一个用户名；-L，指定用户字典

-p，指定一个密码；-P，指定密码字典

-vV，显示爆破细节；-o，保存爆破结果；-f，找到正确的密码就停止爆破；

-e，扩展参数，n：null-空密码；s：same-和用户名一样的密码；r：反向-方向用户名做密码；

-t，线程，默认是16

使用用户字典，密码字典，爆破smb用户名和密码，命令：

hydra -L  ../dic/user.dic -P ../dic/winPass.dic smb://192.168.1.100 -vV -f -e nsr

##### 使用MSF，metaspolit下的smb模块远程连接已经被爆破的windows系统

kali中已经集成，msfconsole命令启动，use使用smb模块，设定爆破后得到的账户名和密码，获取被攻击主机的权限

#### linux口令破解

分为远程破解和本地破解，远程破解主要是爆破ssh服务，属于在线密码攻击。本地拿到linux的shadow文件，进行hash值破解，属于离线密码攻击。

1. 破解SSH服务

   使用hydra攻击ssh服务，hydra攻击已经集成在kali虚拟机中，命令如下：

   hydra -l root -P ../dic/pwd.dic ssh://192.168.1.100 -f -vV -t 64 -e nsr

2. 本地shadow文件破解

   使用john工具，破解shadow密码文件，已集成在kali中，需要准备字典